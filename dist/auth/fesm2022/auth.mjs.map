{"version":3,"file":"auth.mjs","sources":["../../../projects/auth/src/lib/auth.ts","../../../projects/auth/src/lib/interface/auth-config.ts","../../../projects/auth/src/lib/services/AuthService.ts","../../../projects/auth/src/lib/interceptors/lang.interceptor.ts","../../../projects/auth/src/lib/interceptors/status.interceptor.ts","../../../projects/auth/src/lib/auth.module.ts","../../../projects/auth/src/public-api.ts","../../../projects/auth/src/auth.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'lib-Auth',\r\n  imports: [],\r\n  template: `\r\n    <p>\r\n      auth works!\r\n    </p>\r\n  `,\r\n  styles: ``,\r\n})\r\nexport class Auth {\r\n\r\n}\r\n","import { InjectionToken } from '@angular/core';\r\n\r\nexport interface AuthConfig {\r\n  apiUrl: string;\r\n  defaultLanguage?: string;\r\n}\r\n\r\nexport const AUTH_CONFIG = new InjectionToken<AuthConfig>('AUTH_CONFIG');\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { AuthConfig, AUTH_CONFIG } from '../interface/auth-config';\r\nimport { LoginRequest } from '../interface/login-request';\r\nimport { LoginResponse } from '../interface/login-response';\r\nimport { RegisterRequest } from '../interface/register-request';\r\n\r\n@Injectable()\r\nexport class AuthService {\r\n  constructor(\r\n    private http: HttpClient,\r\n    @Inject(AUTH_CONFIG) private config: AuthConfig\r\n  ) {}\r\n\r\n  login(data: LoginRequest): Observable<LoginResponse> {\r\n    return this.http.post<LoginResponse>(`${this.config.apiUrl}/login`, data);\r\n  }\r\n\r\n  register(data: RegisterRequest): Observable<any> {\r\n    return this.http.post<any>(`${this.config.apiUrl}/register`, data);\r\n  }\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { AuthConfig, AUTH_CONFIG } from '../interface/auth-config';\r\n\r\n@Injectable()\r\nexport class LANGInterceptor implements HttpInterceptor {\r\n  constructor(@Inject(AUTH_CONFIG) private config: AuthConfig) {}\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    const lang = this.config.defaultLanguage || 'en';\r\n    const clonedReq = req.clone({\r\n      setHeaders: {\r\n        'Accept-Language': lang\r\n      }\r\n    });\r\n    return next.handle(clonedReq);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse } from '@angular/common/http';\r\nimport { Observable, tap } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class StatusInterceptor implements HttpInterceptor {\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    return next.handle(req).pipe(\r\n      tap(event => {\r\n        if (event instanceof HttpResponse) {\r\n          console.log('Response status:', event.status);\r\n        }\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { AuthService } from './services/AuthService';\r\nimport { LANGInterceptor } from './interceptors/lang.interceptor';\r\nimport { StatusInterceptor } from './interceptors/status.interceptor';\r\nimport { AuthConfig, AUTH_CONFIG } from './interface/auth-config';\r\n\r\n@NgModule({\r\n  imports: [HttpClientModule]\r\n})\r\nexport class AuthModule {\r\n  static forRoot(config: AuthConfig): ModuleWithProviders<AuthModule> {\r\n    return {\r\n      ngModule: AuthModule,\r\n      providers: [\r\n        AuthService,\r\n        { provide: AUTH_CONFIG, useValue: config },\r\n        { provide: HTTP_INTERCEPTORS, useClass: LANGInterceptor, multi: true },\r\n        { provide: HTTP_INTERCEPTORS, useClass: StatusInterceptor, multi: true },\r\n      ]\r\n    };\r\n  }\r\n}\r\n","/*\r\n * Public API Surface of auth\r\n */\r\n\r\nexport * from './lib/auth';\r\nexport * from './lib/auth.module';\r\nexport * from './lib/services/AuthService'\r\nexport * from './lib/interceptors/lang.interceptor';\r\nexport * from './lib/interceptors/status.interceptor';\r\nexport * from './lib/interface/auth-config';\r\nexport * from './lib/interface/login-request';\r\nexport * from './lib/interface/login-response';\r\nexport * from './lib/interface/register-request';\r\n\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}